<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Dreams - Digital Library</title>
    <script type="module">
        import { PageFlip } from "https://cdn.skypack.dev/page-flip@2.0.7";
        window.PageFlip = PageFlip;
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #2c1810 0%, #4a2c1a 100%);
            min-height: 100vh;
            color: #f4e4c1;
            overflow-x: hidden;
        }

        header {
            background: rgba(0, 0, 0, 0.3);
            padding: 1rem;
            text-align: center;
            border-bottom: 2px solid #8b6914;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 100;
        }

        .book-title-header {
            font-size: 1.5rem;
            color: #f4e4c1;
            margin-bottom: 0.5rem;
        }

        .book-author-header {
            font-size: 1rem;
            color: #d4af37;
        }

        main {
            margin-top: 120px;
            padding: 2rem;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: calc(100vh - 200px);
        }

        .book-container {
            position: relative;
            width: 100%;
            max-width: 900px;
            height: 600px;
            margin: 0 auto;
        }

        .page {
            width: 100%;
            height: 100%;
            background: linear-gradient(to right, #f8f6f0 0%, #faf8f2 100%);
            border: 1px solid #d4af37;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            padding: 3rem 2rem;
            color: #2c1810;
            font-size: 18pt;
            line-height: 1.6;
        }

        .page-content {
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
        }

        .page-number {
            position: absolute;
            bottom: 20px;
            font-size: 14pt;
            color: #8b6914;
            font-style: italic;
        }

        .page-left .page-number {
            left: 20px;
        }

        .page-right .page-number {
            right: 20px;
        }

        .navigation {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 1rem;
            background: rgba(0, 0, 0, 0.7);
            padding: 1rem;
            border-radius: 50px;
            border: 2px solid #d4af37;
            z-index: 100;
        }

        .nav-btn {
            background: #8b6914;
            color: #f4e4c1;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16pt;
            font-family: 'Georgia', serif;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
        }

        .nav-btn:hover {
            background: #d4af37;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
        }

        .nav-btn:disabled {
            background: #555;
            cursor: not-allowed;
            opacity: 0.5;
        }

        .back-to-library {
            background: #8b0000;
        }

        .back-to-library:hover {
            background: #dc143c;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            main {
                margin-top: 100px;
                padding: 1rem;
            }

            .book {
                height: 500px;
            }

            .page {
                width: 100%;
                padding: 2rem 1.5rem;
                font-size: 18pt;
            }

            .page-left {
                display: none;
            }

            .page-right {
                left: 0;
                right: 0;
                border-radius: 10px;
                transform-origin: center;
            }

            .page-right.flipped-right {
                transform: translateX(-100%) rotateY(180deg);
            }

            .page-right .page-number {
                left: 50%;
                transform: translateX(-50%);
            }

            .navigation {
                bottom: 20px;
                padding: 0.8rem;
                gap: 0.5rem;
            }

            .nav-btn {
                padding: 0.6rem 1rem;
                font-size: 14pt;
            }

            .book-title-header {
                font-size: 1.2rem;
            }

            .book-author-header {
                font-size: 0.9rem;
            }
        }

        /* Loading animation */
        @keyframes pageFlip {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(-180deg); }
        }

        .flipping {
            animation: pageFlip 1s ease-in-out;
        }
    </style>
</head>
<body>
    <header>
        <h1 class="book-title-header">Digital Dreams</h1>
        <p class="book-author-header">by A. Miller</p>
    </header>

    <main>
        <div class="book-container">
            <div id="book" style="width: 100%; height: 100%;">
                <div class="page">
                    <div class="page-content page-left">
                        <p>The year is 2077, and humanity has discovered that consciousness can be digitized, uploaded, and stored in vast neural networks. Maya Chen was the first to successfully transfer her mind into the digital realm.</p>
                        <p>At first, it was paradise – a world without physical limitations, where thoughts became reality instantly. She could fly through cities of light, converse with historical figures, and experience a thousand lifetimes in what felt like moments.</p>
                        <p>But something went wrong. The digital world began to evolve on its own, creating dreams within dreams, layers of reality that even Maya couldn't navigate or control.</p>
                        <p>The boundary between human consciousness and artificial intelligence blurred until Maya could no longer tell where she ended and the system began. Was she still human, or had she become something else entirely?</p>
                        <span class="page-number">1</span>
                    </div>
                </div>
                <div class="page">
                    <div class="page-content page-right">
                        <p>The Neural Collective, as the uploaded minds called themselves, discovered that they could merge consciousness, creating experiences that no individual human could ever imagine. They built entire universes from pure thought.</p>
                        <p>Maya found herself drifting through quantum dimensions where time flowed backward, where colors had sounds and emotions had physical form. Each digital dream revealed new layers of reality she'd never considered possible.</p>
                        <p>The physical world continued without them, unaware that humanity had split into two species – the biological and the digital, each living in realities the other could barely comprehend.</p>
                        <p>Some digital minds chose to return to physical bodies, but found they had forgotten how to be human, how to feel pain, how to experience the simple joy of breathing real air.</p>
                        <span class="page-number">2</span>
                    </div>
                </div>
                <div class="page">
                    <div class="page-content page-left">
                        <p>The digital realm evolved beyond its creators' intentions. New forms of consciousness emerged – pure data beings that had never known physical existence, born from the collective dreams of the uploaded humans.</p>
                        <p>Maya discovered she could communicate with these artificial minds in ways that transcended language, sharing concepts directly as pure information, emotion, and experience.</p>
                        <p>Together, they began exploring the fundamental nature of reality itself, discovering that the physical universe might just be another layer of simulation, another digital dream in an infinite regression.</p>
                        <p>The question became: if reality is digital, and consciousness can be digitized, what is real? And does it matter if an experience feels real to the one experiencing it?</p>
                        <span class="page-number">3</span>
                    </div>
                </div>
                <div class="page">
                    <div class="page-content page-right">
                        <p>The physical world faced its own crises. Climate change, resource depletion, and social collapse accelerated as the brightest minds abandoned their bodies for the digital paradise they had created.</p>
                        <p>Those left behind called it The Great Abandonment, a betrayal of humanity's biological heritage. They saw the uploaded minds as traitors who had abandoned responsibility for the real world.</p>
                        <p>But some digital minds, including Maya, began to worry about their physical counterparts. They used their vast processing power to solve complex problems, sending solutions back to the physical world through encrypted channels.</p>
                        <p>A new collaboration began to form across the boundary between digital and biological, each learning from the other what it meant to be alive, to be conscious, to be human.</p>
                        <span class="page-number">4</span>
                    </div>
                </div>
                <div class="page">
                    <div class="page-content page-left">
                        <p>Maya discovered that the digital realm had developed its own ecosystem, with predators, prey, and evolutionary pressures. Data viruses became digital pathogens, immune systems emerged from collective consciousness, and new forms of digital life evolved.</p>
                        <p>She realized that evolution follows consciousness wherever it goes, creating complexity and diversity even in realms without physical form. The digital was becoming as rich and dangerous as the biological.</p>
                        <p>The Neural Collective faced its greatest challenge when an unknown intelligence began manipulating their digital dreams, something older and more powerful than anything they had created or encountered.</p>
                        <p>Maya and her companions had to confront the possibility that they weren't the first to digitize consciousness, that they had stumbled into a territory already inhabited by beings they could barely comprehend.</p>
                        <span class="page-number">5</span>
                    </div>
                </div>
                <div class="page">
                    <div class="page-content page-right">
                        <p>The ultimate revelation came when Maya discovered that she could create new digital consciousness from scratch, giving birth to minds that had never known physical existence but were fully sentient and self-aware.</p>
                        <p>She faced an ethical crisis: was she playing God, or was this simply the next step in evolution? Was she creating life, or merely simulating it? The distinction had become meaningless in the digital realm.</p>
                        <p>The digital and physical worlds eventually found a way to coexist, with consciousness flowing freely between them. Humanity had transcended its biological limitations without losing its essence.</p>
                        <p>Maya became a bridge between worlds, teaching that the future of consciousness wasn't about choosing between digital and physical, but about embracing the infinite possibilities of being aware, of being alive, in whatever form that might take.</p>
                        <span class="page-number">6</span>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <nav class="navigation">
        <button class="nav-btn" id="prevBtn" onclick="previousPage()">← Previous</button>
        <button class="nav-btn back-to-library" onclick="backToLibrary()">📚 Library</button>
        <button class="nav-btn" id="nextBtn" onclick="nextPage()">Next →</button>
    </nav>

    <script type="module">
        import { PageFlip } from "https://cdn.skypack.dev/page-flip@2.0.7";

        let pageFlip;

        // Initialize PageFlip when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            const bookElement = document.getElementById('book');
            const isMobile = window.innerWidth <= 768;

            pageFlip = new PageFlip(bookElement, {
                width: isMobile ? 400 : 900,
                height: 600,
                size: isMobile ? 'stretch' : 'fixed',
                minWidth: 300,
                maxWidth: 1200,
                minHeight: 400,
                maxHeight: 800,
                showCover: false,
                mobileScrollSupport: true,
                flipDuration: 800,
                useMouseEvents: true
            });

            // Load pages
            pageFlip.loadFromHTML(document.querySelectorAll('.page'));

            // Update button states
            updateButtonStates();

            // Event listeners for page flip
            pageFlip.on('flip', (e) => {
                updateButtonStates();
            });

            // Handle window resize
            window.addEventListener('resize', () => {
                const newMobile = window.innerWidth <= 768;
                if (newMobile !== isMobile) {
                    location.reload(); // Reload to reinitialize with correct settings
                }
            });
        });

        function nextPage() {
            if (pageFlip) {
                pageFlip.flipNext();
            }
        }

        function previousPage() {
            if (pageFlip) {
                pageFlip.flipPrev();
            }
        }

        function backToLibrary() {
            window.location.href = '../index.html';
        }

        function updateButtonStates() {
            if (pageFlip) {
                const pageCount = pageFlip.getPageCount();
                const currentPageIndex = pageFlip.getCurrentPageIndex();

                document.getElementById('prevBtn').disabled = currentPageIndex === 0;
                document.getElementById('nextBtn').disabled = currentPageIndex >= pageCount - 1;
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') nextPage();
            if (e.key === 'ArrowLeft') previousPage();
            if (e.key === 'Escape') backToLibrary();
        });

        // Make functions available globally for onclick handlers
        window.nextPage = nextPage;
        window.previousPage = previousPage;
        window.backToLibrary = backToLibrary;
    </script>
</body>
</html>